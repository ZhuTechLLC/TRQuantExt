# 韬睿量化专业版 - Docker Compose配置
# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network






# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network




# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network

# 支持GUI + Dashboard + Bridge服务

version: '3.8'

services:
  # 主GUI应用
  jqquant-gui:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-gui
    environment:
      - DISPLAY=${DISPLAY:-:0}
      - QT_X11_NO_MITSHM=1
      - XAUTHORITY=/root/.Xauthority
      - PYTHONUNBUFFERED=1
    volumes:
      # X11 socket
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${XAUTHORITY:-~/.Xauthority}:/root/.Xauthority:ro
      # 持久化数据
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      # 投资手册（只读）
      - ./investment-manual:/app/investment-manual:ro
    devices:
      - /dev/dri:/dev/dri
    ipc: host
    network_mode: host
    command: python3 JQQuant.py
    profiles:
      - gui

  # Dashboard Web服务
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-dashboard
    environment:
      - PYTHONUNBUFFERED=1
      - FLASK_ENV=production
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./logs:/app/logs
      - ./results:/app/results
      - ./strategies:/app/strategies
      - ./docs:/app/docs:ro
    ports:
      - "5000:5000"
    command: python3 start_dashboard.py
    restart: unless-stopped
    profiles:
      - services
      - all

  # PTrade Bridge服务
  ptrade-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-ptrade-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/ptrade:/app/strategies/ptrade
    ports:
      - "8001:8001"
    command: python3 -m ptrade_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QMT Bridge服务
  qmt-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-qmt-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/qmt:/app/strategies/qmt
    ports:
      - "8002:8002"
    command: python3 -m qmt_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

  # QuantConnect Bridge服务
  quantconnect-bridge:
    build:
      context: .
      dockerfile: Dockerfile.gui
    container_name: jqquant-quantconnect-bridge
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      - ./config:/app/config:ro
      - ./data:/app/data
      - ./strategies/quantconnect:/app/strategies/quantconnect
    ports:
      - "8003:8003"
    command: python3 -m quantconnect_bridge.server
    restart: unless-stopped
    profiles:
      - services
      - all

networks:
  default:
    name: jqquant-network














