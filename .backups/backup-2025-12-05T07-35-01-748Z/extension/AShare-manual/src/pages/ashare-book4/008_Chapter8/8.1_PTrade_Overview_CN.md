---
title: "8.1 PTrade平台概述"
description: "了解PTrade平台的功能特点、使用环境和与韬睿量化系统的集成"
lang: "zh-CN"
layout: "/src/layouts/Layout.astro"
currentBook: "ashare-quantitative"
currentChapter: "ashare-quantitative-chapter8"
updateDate: "2025-01-26"
---

# 🖥️ 8.1 PTrade平台概述

> **核心摘要：**
> 
> PTrade是国金证券提供的专业量化交易平台，支持Python策略开发和实盘交易。本节介绍PTrade的功能特点、使用环境、与其他平台的对比，以及与韬睿量化系统的深度集成。

## 📋 章节概览

<div class="section-overview">
  <div class="overview-item">
    <span class="item-icon">🖥️</span>
    <a href="#features">平台特点</a>
    <span class="item-desc">PTrade核心功能介绍</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">⚙️</span>
    <a href="#environment">使用环境</a>
    <span class="item-desc">开户和环境配置</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">📊</span>
    <a href="#comparison">平台对比</a>
    <span class="item-desc">PTrade vs QMT vs 其他</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">🔗</span>
    <a href="#integration">韬睿集成</a>
    <span class="item-desc">与韬睿量化系统的集成</span>
  </div>
</div>

---

<h2 id="features">🖥️ 平台特点</h2>

### PTrade核心功能

<div class="exchange-grid">
  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">🐍</span>
      <h3>Python编程</h3>
    </div>
    <div class="exchange-content">
      <p><strong>语言版本：</strong>Python 3.6+</p>
      <p><strong>内置库：</strong>pandas, numpy, scipy</p>
      <p><strong>策略框架：</strong>事件驱动架构</p>
      <p><strong>调试支持：</strong>日志、断点调试</p>
    </div>
  </div>

  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">📊</span>
      <h3>数据支持</h3>
    </div>
    <div class="exchange-content">
      <p><strong>行情数据：</strong>日K、分钟K、Tick</p>
      <p><strong>财务数据：</strong>三大报表、财务指标</p>
      <p><strong>因子数据：</strong>预计算因子库</p>
      <p><strong>历史数据：</strong>10年+历史数据</p>
    </div>
  </div>

  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">💹</span>
      <h3>交易品种</h3>
    </div>
    <div class="exchange-content">
      <p><strong>A股：</strong>沪深主板、创业板、科创板</p>
      <p><strong>ETF：</strong>股票ETF、债券ETF</p>
      <p><strong>可转债：</strong>可转债交易</p>
      <p><strong>融资融券：</strong>两融标的</p>
    </div>
  </div>

  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">⚡</span>
      <h3>执行能力</h3>
    </div>
    <div class="exchange-content">
      <p><strong>回测引擎：</strong>历史回测支持</p>
      <p><strong>模拟交易：</strong>实时模拟盘</p>
      <p><strong>实盘交易：</strong>真实资金交易</p>
      <p><strong>订单类型：</strong>限价、市价、算法单</p>
    </div>
  </div>
</div>

### PTrade API核心函数

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>函数类型</th>
        <th>函数名</th>
        <th>功能说明</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td rowspan="3"><strong>生命周期</strong></td>
        <td>initialize(context)</td>
        <td>策略初始化，只运行一次</td>
      </tr>
      <tr>
        <td>before_trading_start(context, data)</td>
        <td>每日开盘前运行</td>
      </tr>
      <tr>
        <td>handle_data(context, data)</td>
        <td>每个交易周期运行</td>
      </tr>
      <tr>
        <td rowspan="3"><strong>数据获取</strong></td>
        <td>get_price()</td>
        <td>获取行情数据</td>
      </tr>
      <tr>
        <td>get_fundamentals()</td>
        <td>获取财务数据</td>
      </tr>
      <tr>
        <td>get_index_stocks()</td>
        <td>获取指数成分股</td>
      </tr>
      <tr>
        <td rowspan="3"><strong>交易执行</strong></td>
        <td>order(stock, amount)</td>
        <td>按数量下单</td>
      </tr>
      <tr>
        <td>order_target(stock, amount)</td>
        <td>调整到目标数量</td>
      </tr>
      <tr>
        <td>order_target_percent(stock, pct)</td>
        <td>调整到目标比例</td>
      </tr>
    </tbody>
  </table>
</div>

---

<h2 id="environment">⚙️ 使用环境</h2>

### 开户与权限

<div class="tip-box">
  <h4>📋 PTrade开通流程</h4>
  <ol>
    <li><strong>开立账户：</strong>在国金证券开立证券账户</li>
    <li><strong>申请权限：</strong>联系客户经理申请PTrade权限</li>
    <li><strong>资金要求：</strong>部分功能需要一定资金门槛</li>
    <li><strong>下载客户端：</strong>从国金证券官网下载PTrade客户端</li>
    <li><strong>登录使用：</strong>使用证券账号登录</li>
  </ol>
</div>

### 环境配置

<div class="board-details">
  <div class="board-card">
    <h4>⚙️ PTrade环境配置</h4>
    <div class="board-content">

```python
# PTrade策略基本结构
def initialize(context):
    """
    策略初始化函数
    - 设置股票池
    - 设置基准
    - 设置参数
    """
    # 设置股票池
    context.stock_pool = get_index_stocks('000300.SH')
    
    # 设置基准
    set_benchmark('000300.SH')
    
    # 设置滑点
    set_slippage(FixedSlippage(0.002))
    
    # 设置手续费
    set_commission(PerOrder(buy_cost=0.0003, sell_cost=0.0013))
    
    # 自定义参数
    context.hold_num = 30
    context.rebalance_day = 1  # 每月第1个交易日调仓

def before_trading_start(context, data):
    """每日开盘前执行"""
    pass

def handle_data(context, data):
    """每个交易周期执行"""
    pass
```

</div>
  </div>
</div>

---

<h2 id="comparison">📊 平台对比</h2>

### PTrade vs QMT vs 其他平台

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>特性</th>
        <th>PTrade</th>
        <th>QMT</th>
        <th>聚宽</th>
        <th>优矿</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>券商</strong></td>
        <td>国金证券</td>
        <td>多家券商</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td><strong>实盘交易</strong></td>
        <td>✅ 直接支持</td>
        <td>✅ 直接支持</td>
        <td>❌ 需对接</td>
        <td>❌ 需对接</td>
      </tr>
      <tr>
        <td><strong>编程语言</strong></td>
        <td>Python</td>
        <td>Python</td>
        <td>Python</td>
        <td>Python</td>
      </tr>
      <tr>
        <td><strong>数据质量</strong></td>
        <td>⭐⭐⭐⭐</td>
        <td>⭐⭐⭐⭐</td>
        <td>⭐⭐⭐⭐⭐</td>
        <td>⭐⭐⭐⭐</td>
      </tr>
      <tr>
        <td><strong>回测速度</strong></td>
        <td>⭐⭐⭐⭐</td>
        <td>⭐⭐⭐⭐⭐</td>
        <td>⭐⭐⭐</td>
        <td>⭐⭐⭐</td>
      </tr>
      <tr>
        <td><strong>社区生态</strong></td>
        <td>⭐⭐⭐</td>
        <td>⭐⭐⭐</td>
        <td>⭐⭐⭐⭐⭐</td>
        <td>⭐⭐⭐⭐</td>
      </tr>
      <tr>
        <td><strong>费用</strong></td>
        <td>免费</td>
        <td>免费</td>
        <td>部分付费</td>
        <td>部分付费</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="tip-box">
  <h4>💡 平台选择建议</h4>
  <ul>
    <li><strong>PTrade：</strong>适合国金证券用户，策略开发和实盘一体化</li>
    <li><strong>QMT：</strong>适合需要高性能回测和多券商选择的用户</li>
    <li><strong>聚宽：</strong>适合策略研究和学习，数据质量高</li>
    <li><strong>韬睿方案：</strong>使用聚宽/JQData研究，PTrade/QMT实盘</li>
  </ul>
</div>

---

<h2 id="integration">🔗 韬睿集成</h2>

### 韬睿量化系统与PTrade的集成

<div class="board-details">
  <div class="board-card">
    <h4>🔗 PTrade Bridge服务</h4>
    <div class="board-content">

```python
# 韬睿量化系统PTrade Bridge架构
┌─────────────────────────────────────────────────────────┐
│                    韬睿量化系统                          │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────┐     ┌─────────────┐     ┌───────────┐ │
│  │   Cursor    │────▶│  PTrade     │────▶│  PTrade   │ │
│  │   IDE       │     │  Bridge     │     │  客户端   │ │
│  └─────────────┘     └─────────────┘     └───────────┘ │
│        │                   │                   │       │
│        │                   │                   │       │
│  ┌─────┴─────┐      ┌─────┴─────┐      ┌─────┴─────┐  │
│  │ 策略代码  │      │ 回测数据  │      │ 实盘数据  │  │
│  │ 生成/编辑 │      │ 读取/分析 │      │ 监控/报警 │  │
│  └───────────┘      └───────────┘      └───────────┘  │
└─────────────────────────────────────────────────────────┘
```

</div>
  </div>
</div>

### 工作流程

<div class="tip-box">
  <h4>🔄 韬睿 + PTrade 工作流</h4>
  <ol>
    <li><strong>因子研究：</strong>在韬睿平台使用JQData进行因子研究</li>
    <li><strong>策略开发：</strong>使用Cursor AI辅助生成PTrade策略代码</li>
    <li><strong>回测验证：</strong>在PTrade进行历史回测</li>
    <li><strong>结果分析：</strong>回测结果同步到韬睿Dashboard分析</li>
    <li><strong>策略优化：</strong>基于分析结果优化策略</li>
    <li><strong>实盘部署：</strong>将优化后的策略部署到PTrade实盘</li>
    <li><strong>监控管理：</strong>通过韬睿Dashboard监控实盘表现</li>
  </ol>
</div>

## 💎 核心要点总结

<div class="key-points">
  <div class="key-point">
    <h4>🖥️ 专业平台</h4>
    <p>PTrade是国金证券的专业量化平台，支持Python策略开发</p>
  </div>
  <div class="key-point">
    <h4>⚡ 实盘能力</h4>
    <p>策略开发和实盘交易一体化，无需额外对接</p>
  </div>
  <div class="key-point">
    <h4>📊 数据完善</h4>
    <p>提供行情、财务、因子等完整数据支持</p>
  </div>
  <div class="key-point">
    <h4>🔗 韬睿集成</h4>
    <p>通过PTrade Bridge与韬睿量化系统深度集成</p>
  </div>
</div>

## 🔮 总结与展望

<div class="summary-outlook">
  <h3>本节回顾</h3>
  <p>本节介绍了PTrade平台的功能特点、使用环境、与其他平台的对比，以及与韬睿量化系统的集成方案。</p>
  
  <h3>下节预告</h3>
  <p>下一节将详细讲解PTrade策略的基本框架，包括生命周期函数、数据获取和交易执行。</p>
  
  <a href="/ashare-book4/008_Chapter8/8.2_Strategy_Framework_CN" class="next-section">
    继续学习：8.2 策略框架 →
  </a>
</div>
