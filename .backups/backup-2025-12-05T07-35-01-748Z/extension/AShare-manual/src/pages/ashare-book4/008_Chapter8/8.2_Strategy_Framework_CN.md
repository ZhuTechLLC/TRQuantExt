---
title: "8.2 ç­–ç•¥æ¡†æ¶"
description: "æŒæ¡PTradeç­–ç•¥çš„åŸºæœ¬æ¡†æ¶å’Œç”Ÿå‘½å‘¨æœŸå‡½æ•°"
lang: "zh-CN"
layout: "/src/layouts/Layout.astro"
currentBook: "ashare-quantitative"
currentChapter: "ashare-quantitative-chapter8"
updateDate: "2025-01-26"
---

# ğŸ“‹ 8.2 ç­–ç•¥æ¡†æ¶

> **æ ¸å¿ƒæ‘˜è¦ï¼š**
> 
> PTradeç­–ç•¥åŸºäºäº‹ä»¶é©±åŠ¨æœºåˆ¶ã€‚æœ¬èŠ‚è®²è§£ç­–ç•¥çš„åŸºæœ¬æ¡†æ¶å’Œç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚

## ğŸ“‹ PTradeç­–ç•¥ç»“æ„

<div class="board-details">
  <div class="board-card">
    <h4>ğŸ“‹ PTradeç­–ç•¥æ¨¡æ¿</h4>
    <div class="board-content">

```python
# PTradeç­–ç•¥æ¨¡æ¿

def initialize(context):
    """åˆå§‹åŒ–å‡½æ•°ï¼Œç­–ç•¥å¯åŠ¨æ—¶æ‰§è¡Œä¸€æ¬¡"""
    # è®¾ç½®è‚¡ç¥¨æ± 
    context.stock_list = []
    # è®¾ç½®è°ƒä»“æ—¥
    context.trade_day = 1
    # è®¾ç½®åŸºå‡†
    set_benchmark('000300.SH')

def before_trading_start(context, data):
    """æ¯æ—¥å¼€ç›˜å‰æ‰§è¡Œ"""
    # æ›´æ–°è‚¡ç¥¨æ± 
    pass

def handle_data(context, data):
    """æ¯ä¸ªäº¤æ˜“baræ‰§è¡Œ"""
    # äº¤æ˜“é€»è¾‘
    pass

def after_trading_end(context, data):
    """æ¯æ—¥æ”¶ç›˜åæ‰§è¡Œ"""
    # è®°å½•æ—¥å¿—
    pass
```

</div>
  </div>
</div>

## ğŸ“Š ç”Ÿå‘½å‘¨æœŸå‡½æ•°

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>å‡½æ•°</th>
        <th>æ‰§è¡Œæ—¶æœº</th>
        <th>ç”¨é€”</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>initialize</strong></td>
        <td>ç­–ç•¥å¯åŠ¨æ—¶</td>
        <td>åˆå§‹åŒ–å‚æ•°</td>
      </tr>
      <tr>
        <td><strong>before_trading_start</strong></td>
        <td>æ¯æ—¥å¼€ç›˜å‰</td>
        <td>æ›´æ–°æ•°æ®</td>
      </tr>
      <tr>
        <td><strong>handle_data</strong></td>
        <td>æ¯ä¸ªäº¤æ˜“bar</td>
        <td>äº¤æ˜“é€»è¾‘</td>
      </tr>
      <tr>
        <td><strong>after_trading_end</strong></td>
        <td>æ¯æ—¥æ”¶ç›˜å</td>
        <td>è®°å½•æ—¥å¿—</td>
      </tr>
    </tbody>
  </table>
</div>

## ğŸ”® æ€»ç»“ä¸å±•æœ›

<div class="summary-outlook">
  <h3>æœ¬èŠ‚å›é¡¾</h3>
  <p>æœ¬èŠ‚è®²è§£äº†PTradeç­–ç•¥çš„åŸºæœ¬æ¡†æ¶å’Œç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p>
  
  <h3>ä¸‹èŠ‚é¢„å‘Š</h3>
  <p>ä¸‹ä¸€èŠ‚å°†å­¦ä¹ PTradeä¸­çš„æ•°æ®è·å–æ–¹æ³•ã€‚</p>
  
  <a href="/ashare-book4/008_Chapter8/8.3_Data_Access_CN" class="next-section">
    ç»§ç»­å­¦ä¹ ï¼š8.3 æ•°æ®è·å– â†’
  </a>
</div>













