---
title: "10.1 评估指标"
description: "掌握策略评估的核心指标、计算方法和韬睿平台实现"
lang: "zh-CN"
layout: "/src/layouts/Layout.astro"
currentBook: "ashare-quantitative"
currentChapter: "ashare-quantitative-chapter10"
updateDate: "2025-01-26"
---

# 📊 10.1 评估指标

> **核心摘要：**
> 
> 策略评估指标是衡量策略优劣的量化标准。本节全面讲解收益类、风险类、风险调整收益类指标的定义、计算方法和判断标准，并展示在韬睿量化平台中的实现。

## 📋 章节概览

<div class="section-overview">
  <div class="overview-item">
    <span class="item-icon">📈</span>
    <a href="#return">收益类指标</a>
    <span class="item-desc">年化收益、累计收益、超额收益</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">📉</span>
    <a href="#risk">风险类指标</a>
    <span class="item-desc">最大回撤、波动率、VaR</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">⚖️</span>
    <a href="#adjusted">风险调整收益</a>
    <span class="item-desc">夏普比率、卡玛比率、信息比率</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">🖥️</span>
    <a href="#taorui">韬睿实现</a>
    <span class="item-desc">韬睿平台指标计算代码</span>
  </div>
</div>

---

<h2 id="return">📈 收益类指标</h2>

### 核心收益指标

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>指标</th>
        <th>公式</th>
        <th>说明</th>
        <th>优秀标准</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>累计收益率</strong></td>
        <td>(期末净值/期初净值 - 1) × 100%</td>
        <td>策略总收益</td>
        <td>跑赢基准</td>
      </tr>
      <tr>
        <td><strong>年化收益率</strong></td>
        <td>(1 + 累计收益)^(252/交易天数) - 1</td>
        <td>年化后的收益率</td>
        <td>> 15%</td>
      </tr>
      <tr>
        <td><strong>超额收益</strong></td>
        <td>策略收益 - 基准收益</td>
        <td>相对基准的超额</td>
        <td>> 5%/年</td>
      </tr>
      <tr>
        <td><strong>年化超额收益</strong></td>
        <td>策略年化 - 基准年化</td>
        <td>年化超额收益</td>
        <td>> 8%</td>
      </tr>
      <tr>
        <td><strong>胜率</strong></td>
        <td>盈利交易次数 / 总交易次数</td>
        <td>盈利概率</td>
        <td>> 55%</td>
      </tr>
      <tr>
        <td><strong>盈亏比</strong></td>
        <td>平均盈利 / 平均亏损</td>
        <td>盈亏幅度比</td>
        <td>> 1.5</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="tip-box">
  <h4>💡 收益指标解读</h4>
  <ul>
    <li><strong>年化收益：</strong>将不同周期的收益标准化，便于比较</li>
    <li><strong>超额收益：</strong>量化策略的核心目标，需持续稳定</li>
    <li><strong>胜率+盈亏比：</strong>两者结合决定策略期望收益</li>
    <li><strong>参考：</strong>第一册10.2节策略框架</li>
  </ul>
</div>

---

<h2 id="risk">📉 风险类指标</h2>

### 核心风险指标

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>指标</th>
        <th>公式</th>
        <th>说明</th>
        <th>警戒标准</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>最大回撤</strong></td>
        <td>max(1 - 净值/历史最高净值)</td>
        <td>最大亏损幅度</td>
        <td>< 25%</td>
      </tr>
      <tr>
        <td><strong>年化波动率</strong></td>
        <td>日收益标准差 × √252</td>
        <td>收益波动程度</td>
        <td>< 25%</td>
      </tr>
      <tr>
        <td><strong>下行波动率</strong></td>
        <td>负收益的标准差 × √252</td>
        <td>下跌风险</td>
        <td>< 15%</td>
      </tr>
      <tr>
        <td><strong>VaR(95%)</strong></td>
        <td>日收益的5%分位数</td>
        <td>95%概率下的最大日亏损</td>
        <td>< 3%</td>
      </tr>
      <tr>
        <td><strong>Beta</strong></td>
        <td>Cov(策略, 基准) / Var(基准)</td>
        <td>系统性风险暴露</td>
        <td>0.8-1.2</td>
      </tr>
      <tr>
        <td><strong>跟踪误差</strong></td>
        <td>超额收益的标准差</td>
        <td>偏离基准程度</td>
        <td>< 10%</td>
      </tr>
    </tbody>
  </table>
</div>

### 最大回撤详解

<div class="board-details">
  <div class="board-card">
    <h4>📉 最大回撤分析</h4>
    <div class="board-content">
      <p><strong>定义：</strong>从历史最高点到最低点的最大跌幅</p>
      <p><strong>重要性：</strong></p>
      <ul>
        <li>衡量策略的最坏情况</li>
        <li>影响投资者心理承受能力</li>
        <li>决定策略的杠杆上限</li>
      </ul>
      <p><strong>A股经验值：</strong></p>
      <table>
        <tr><td>指数增强策略</td><td>15-25%</td></tr>
        <tr><td>主动量化策略</td><td>20-35%</td></tr>
        <tr><td>市场中性策略</td><td>5-15%</td></tr>
      </table>
    </div>
  </div>
</div>

---

<h2 id="adjusted">⚖️ 风险调整收益</h2>

### 核心风险调整指标

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>指标</th>
        <th>公式</th>
        <th>说明</th>
        <th>优秀标准</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>夏普比率</strong></td>
        <td>(年化收益 - 无风险利率) / 年化波动率</td>
        <td>单位风险的超额收益</td>
        <td>> 1.5</td>
      </tr>
      <tr>
        <td><strong>卡玛比率</strong></td>
        <td>年化收益 / 最大回撤</td>
        <td>收益与最大回撤的比值</td>
        <td>> 2.0</td>
      </tr>
      <tr>
        <td><strong>索提诺比率</strong></td>
        <td>(年化收益 - 无风险) / 下行波动率</td>
        <td>单位下行风险的超额收益</td>
        <td>> 2.0</td>
      </tr>
      <tr>
        <td><strong>信息比率(IR)</strong></td>
        <td>年化超额收益 / 跟踪误差</td>
        <td>单位主动风险的超额收益</td>
        <td>> 1.0</td>
      </tr>
      <tr>
        <td><strong>特雷诺比率</strong></td>
        <td>(年化收益 - 无风险) / Beta</td>
        <td>单位系统风险的超额收益</td>
        <td>> 10%</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="tip-box">
  <h4>💡 指标选择建议</h4>
  <ul>
    <li><strong>夏普比率：</strong>最常用，适合评估绝对收益策略</li>
    <li><strong>卡玛比率：</strong>关注最大回撤，适合风险厌恶投资者</li>
    <li><strong>信息比率：</strong>适合评估指数增强策略</li>
    <li><strong>综合使用：</strong>建议同时关注多个指标</li>
  </ul>
</div>

---

<h2 id="taorui">🖥️ 韬睿实现</h2>

### 韬睿平台指标计算代码

<div class="board-details">
  <div class="board-card">
    <h4>📊 评估指标计算类</h4>
    <div class="board-content">

```python
import numpy as np
import pandas as pd

class StrategyMetrics:
    """策略评估指标计算类"""
    
    def __init__(self, nav_series, benchmark_series=None, rf=0.03):
        """
        初始化
        
        参数:
            nav_series: 策略净值序列
            benchmark_series: 基准净值序列
            rf: 无风险利率（年化）
        """
        self.nav = nav_series
        self.benchmark = benchmark_series
        self.rf = rf
        self.returns = nav_series.pct_change().dropna()
        
    def total_return(self):
        """累计收益率"""
        return self.nav.iloc[-1] / self.nav.iloc[0] - 1
    
    def annual_return(self):
        """年化收益率"""
        days = len(self.nav)
        return (1 + self.total_return()) ** (252 / days) - 1
    
    def max_drawdown(self):
        """最大回撤"""
        rolling_max = self.nav.cummax()
        drawdown = (self.nav - rolling_max) / rolling_max
        return drawdown.min()
    
    def annual_volatility(self):
        """年化波动率"""
        return self.returns.std() * np.sqrt(252)
    
    def sharpe_ratio(self):
        """夏普比率"""
        excess_return = self.annual_return() - self.rf
        return excess_return / self.annual_volatility()
    
    def calmar_ratio(self):
        """卡玛比率"""
        return self.annual_return() / abs(self.max_drawdown())
    
    def sortino_ratio(self):
        """索提诺比率"""
        downside_returns = self.returns[self.returns < 0]
        downside_std = downside_returns.std() * np.sqrt(252)
        return (self.annual_return() - self.rf) / downside_std
    
    def information_ratio(self):
        """信息比率"""
        if self.benchmark is None:
            return None
        benchmark_returns = self.benchmark.pct_change().dropna()
        excess_returns = self.returns - benchmark_returns
        return excess_returns.mean() * 252 / (excess_returns.std() * np.sqrt(252))
    
    def win_rate(self):
        """胜率"""
        return (self.returns > 0).sum() / len(self.returns)
    
    def profit_loss_ratio(self):
        """盈亏比"""
        profits = self.returns[self.returns > 0].mean()
        losses = abs(self.returns[self.returns < 0].mean())
        return profits / losses if losses > 0 else np.inf
    
    def summary(self):
        """生成评估报告"""
        return {
            '累计收益': f'{self.total_return():.2%}',
            '年化收益': f'{self.annual_return():.2%}',
            '最大回撤': f'{self.max_drawdown():.2%}',
            '年化波动': f'{self.annual_volatility():.2%}',
            '夏普比率': f'{self.sharpe_ratio():.2f}',
            '卡玛比率': f'{self.calmar_ratio():.2f}',
            '索提诺比率': f'{self.sortino_ratio():.2f}',
            '胜率': f'{self.win_rate():.2%}',
            '盈亏比': f'{self.profit_loss_ratio():.2f}'
        }

# 使用示例
# metrics = StrategyMetrics(nav_series, benchmark_series)
# print(metrics.summary())
```

</div>
  </div>
</div>

## 💎 核心要点总结

<div class="key-points">
  <div class="key-point">
    <h4>📈 收益是基础</h4>
    <p>年化收益、超额收益是策略的核心目标</p>
  </div>
  <div class="key-point">
    <h4>📉 风险是约束</h4>
    <p>最大回撤、波动率决定策略的可接受程度</p>
  </div>
  <div class="key-point">
    <h4>⚖️ 风险调整是关键</h4>
    <p>夏普比率、卡玛比率综合评价策略质量</p>
  </div>
  <div class="key-point">
    <h4>🖥️ 韬睿自动化</h4>
    <p>韬睿平台自动计算所有评估指标</p>
  </div>
</div>

## 🔮 总结与展望

<div class="summary-outlook">
  <h3>本节回顾</h3>
  <p>本节全面讲解了策略评估的核心指标，包括收益类、风险类、风险调整收益类指标的定义、计算方法和判断标准。</p>
  
  <h3>下节预告</h3>
  <p>下一节将学习科学的回测方法，包括样本内外测试、滚动回测、压力测试等。</p>
  
  <a href="/ashare-book4/010_Chapter10/10.2_Backtest_Methods_CN" class="next-section">
    继续学习：10.2 回测方法 →
  </a>
</div>
