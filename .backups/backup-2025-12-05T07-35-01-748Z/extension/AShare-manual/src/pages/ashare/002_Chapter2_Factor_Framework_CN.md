---
title: 第二章：量化因子框架
lang: zh
layout: /src/layouts/Layout.astro
---
# 第二章：量化因子框架

> 量化因子是量化投资的基石。本章系统介绍A股市场常用的量化因子，包括计算方法、适用场景和使用注意事项。

## 2.1 因子框架概述

### 2.1.1 什么是量化因子

量化因子是用于**描述股票特征**并**预测未来收益**的数值指标。一个有效的因子应该具备：

- **可量化**：能够用数学公式明确定义
- **可获取**：数据可以从公开渠道获得
- **有逻辑**：背后有合理的经济学或行为学解释
- **有预测力**：与未来收益存在统计上的相关性

### 2.1.2 因子分类体系

```
┌─────────────────────────────────────────────────────┐
│                   量化因子分类                        │
├─────────────────────────────────────────────────────┤
│  价值因子        │ PE、PB、PS、股息率、EV/EBITDA      │
├─────────────────────────────────────────────────────┤
│  成长因子        │ 营收增速、净利增速、ROE变化         │
├─────────────────────────────────────────────────────┤
│  质量因子        │ ROE、ROA、毛利率、资产负债率        │
├─────────────────────────────────────────────────────┤
│  动量因子        │ 价格动量、相对强度、资金流向         │
├─────────────────────────────────────────────────────┤
│  波动因子        │ 波动率、Beta、最大回撤              │
├─────────────────────────────────────────────────────┤
│  技术因子        │ 均线、MACD、RSI、布林带             │
├─────────────────────────────────────────────────────┤
│  资金因子        │ 主力净流入、北向资金、融资余额       │
└─────────────────────────────────────────────────────┘
```

## 2.2 价值因子

### 2.2.1 市盈率（PE）

**定义**：股价与每股收益的比值

```
PE_TTM = 股价 / 过去12个月每股收益
PE_静态 = 股价 / 上年度每股收益
PE_动态 = 股价 / 预测每股收益
```

**使用建议**：
- PE低不一定便宜，需结合行业和成长性
- 周期股PE低时可能是卖点
- 建议使用PE分位数进行横向比较

### 2.2.2 市净率（PB）

**定义**：股价与每股净资产的比值

```
PB = 股价 / 每股净资产
```

**适用场景**：
- 金融、地产等重资产行业
- 周期性行业的估值锚
- 破净股的安全边际分析

### 2.2.3 市销率（PS）

**定义**：市值与营业收入的比值

```
PS_TTM = 总市值 / 过去12个月营业收入
```

**适用场景**：
- 亏损或微利企业
- 高成长但尚未盈利的科技公司
- 收入稳定但利润波动大的公司

### 2.2.4 股息率

**定义**：每股股息与股价的比值

```
股息率 = 每股股息 / 股价 × 100%
```

**A股特点**：
- A股整体股息率偏低（约2%）
- 高股息策略在熊市有超额收益
- 银行、公用事业是高股息代表

## 2.3 成长因子

### 2.3.1 营收增速

```
营收同比增速 = (本期营收 - 去年同期营收) / 去年同期营收 × 100%
营收环比增速 = (本期营收 - 上期营收) / 上期营收 × 100%
```

### 2.3.2 净利润增速

```
净利同比增速 = (本期净利 - 去年同期净利) / 去年同期净利 × 100%
```

**注意事项**：
- 关注扣非净利润，排除非经常性损益
- 警惕低基数效应导致的高增速
- 结合行业周期判断增速的可持续性

### 2.3.3 复合增长率（CAGR）

```
CAGR = (期末值 / 期初值)^(1/年数) - 1
```

**应用**：评估长期成长性，3年或5年CAGR更有参考价值

## 2.4 质量因子

### 2.4.1 净资产收益率（ROE）

```
ROE = 净利润 / 平均净资产 × 100%
```

**杜邦分解**：
```
ROE = 净利率 × 资产周转率 × 权益乘数
    = (净利润/营收) × (营收/总资产) × (总资产/净资产)
```

**A股经验**：
- ROE > 15% 为优质公司
- ROE持续提升比绝对值更重要
- 警惕高杠杆带来的高ROE

### 2.4.2 毛利率

```
毛利率 = (营业收入 - 营业成本) / 营业收入 × 100%
```

**分析要点**：
- 毛利率反映产品竞争力和定价能力
- 关注毛利率的变化趋势
- 不同行业毛利率差异巨大

### 2.4.3 资产负债率

```
资产负债率 = 总负债 / 总资产 × 100%
```

**风险提示**：
- 高负债率增加财务风险
- 但适度负债可以提高ROE
- 需结合行业特征判断

## 2.5 动量因子

### 2.5.1 价格动量

```
动量_N日 = (当前价格 - N日前价格) / N日前价格 × 100%
```

**常用周期**：
- 短期动量：5日、10日、20日
- 中期动量：60日、120日
- 长期动量：250日

### 2.5.2 相对强度（RS）

```
RS = 股票N日涨幅 / 基准指数N日涨幅
```

**应用**：筛选相对市场表现强势的股票

### 2.5.3 动量反转

**A股特点**：
- 短期（1周内）存在反转效应
- 中期（1-6个月）存在动量效应
- 长期（12个月以上）存在反转效应

## 2.6 波动因子

### 2.6.1 历史波动率

```
波动率 = 日收益率的标准差 × √252
```

### 2.6.2 Beta系数

```
Beta = Cov(股票收益, 市场收益) / Var(市场收益)
```

**解读**：
- Beta > 1：比市场波动更大
- Beta < 1：比市场波动更小
- Beta ≈ 1：与市场同步

### 2.6.3 最大回撤

```
最大回撤 = (历史最高点 - 最低点) / 历史最高点 × 100%
```

## 2.7 因子处理方法

### 2.7.1 标准化

```python
# Z-score标准化
z_score = (x - mean) / std

# 分位数标准化
percentile_rank = rank(x) / count(x)
```

### 2.7.2 去极值

```python
# MAD法去极值
median = np.median(x)
mad = np.median(np.abs(x - median))
upper = median + 3 * 1.4826 * mad
lower = median - 3 * 1.4826 * mad
x_winsorized = np.clip(x, lower, upper)
```

### 2.7.3 中性化

```python
# 行业中性化：在行业内部进行排序
# 市值中性化：回归剔除市值影响
```

## 2.8 因子在韬睿平台的应用

### 2.8.1 投研分析模块

韬睿量化平台的"投研分析"模块提供：
- 50+个预计算因子
- 因子历史分位数
- 因子相关性矩阵
- 因子有效性回测

### 2.8.2 AI策略助手

通过AI策略助手，可以：
- 选择目标因子组合
- 自动生成PTrade/QMT策略代码
- 设置因子权重和筛选条件

## 2.9 本章小结

量化因子是策略开发的基础：

- **价值因子**：寻找被低估的股票
- **成长因子**：捕捉高成长机会
- **质量因子**：筛选优质公司
- **动量因子**：跟随市场趋势
- **波动因子**：控制组合风险

下一章我们将分析A股高倍股的共性特征，为选股策略提供方向。

---

**上一章**：[第一章：A股市场特征与投资环境](/ashare/001_Chapter1_A_Share_Market_CN)

**下一章**：[第三章：A股高倍股特征分析](/ashare/003_Chapter3_Multibagger_CN)
