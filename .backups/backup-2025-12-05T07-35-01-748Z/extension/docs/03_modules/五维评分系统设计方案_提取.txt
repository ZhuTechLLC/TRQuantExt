
================================================================================
第 1 页
================================================================================
市场主线识别模块五维评分系统设计方案
1. 五大维度评分 Tab 页设计
设计概述：市场主线识别模块将围绕资金、热度、动量、政策、龙头五大维度构建独立的评分Tab页。每个维度Tab
提供该维度的评分逻辑和可视化，支持多种交互工具栏（时间窗、排序、筛选等），方便用户从不同角度考察市场
主线的表现。
资金维度 Tab
• 核心评分逻辑：资金维度主要衡量主线题材的资金流强度。因子包括：主力资金净流入额及连续流入天数、
大单成交占比、融资融券余额变化等 1 。例如，可定义指标“主力资金连续流入天数”赋予较高权重，表示
持续的资金关注度 1 。“大单成交占比”则体现机构资金介入程度，融资余额增减则反映杠杆资金态度
1 。评分时对近期资金数据加权更高，使用衰减逻辑减小较早前资金流的影响（如采用指数衰减，使昨日
流入影响力大于一周前）。可选扩展因子：北向资金流（陆股通数据）、成交额占比、换手率突变等，以全
面捕捉资金动向。
• 功能栏建议：提供时间窗口选择（如近5日、20日、60日），用于调整资金统计周期；支持按资金得分排序
主线，或按净流入金额排序；提供筛选器（如行业类型、总市值规模），以聚焦特定范围的题材；支持一键
切换查看不同日期或周期的资金流排行。可在Tab内显示“累计资金曲线”小图表，方便直观了解一段时期内
资金变化。
• 可视化方式：适合使用柱状图或折线图展示资金维度数据。例如，用柱状图列出各主线的资金净流入得分，
柱体长短直观比较吸金能力。亦可用趋势折线图显示某主线资金流随时间的变化轨迹，观察资金持续性和拐
点。对于当日资金热度分布，可考虑热力表（Heatmap）将主线列表按资金流强度着色，高亮资金最活跃
的题材。
热度维度 Tab
• 核心评分逻辑：热度维度衡量市场关注度和情绪强度，综合社交媒体热议度、新闻舆情和板块交易活跃度等
因子 2 。具体可包含：板块热度指数（如相关帖子/新闻提及量激增情况）、涨停股数量（短期内板块内涨
停个股的数量及连板高度）和情绪指标（如涨停封板率、炸板率）等 2 。例如，当某题材相关政策关键词
在新闻中出现频率异常激增300%时，可视为政策引发的热度激增 3 ；又如板块内出现高度连板的龙头股
也会推高整体热度 2 。评分时近期舆情占较大权重，可对舆情数据采用7日滑窗衰减计算热度值。可选因
子：百度搜索指数、交易用户数变化、机构研报关注度等，进一步完善热度评价。
• 功能栏建议：提供舆情时间窗选择（如1日内、7日内舆情）；支持按热度得分或涨停家数对主线排序；筛选
器可按情绪状态（如热点爆发、降温）筛选主线，或根据社交媒体来源（微博/论坛）筛选舆情类型；提
供“指标说明”按钮，解释热度指标（如舆情来源构成）。可增设刷新功能，实时抓取最新舆情数据以更新热
度排名。
• 可视化方式：推荐采用热力图/热力表形式，将主线名单按热度值高低着色分层，一目了然当前市场焦点所
在。另外，可用折线趋势图展示某主线的舆情指数随时间变化，捕捉热度升温或衰退过程。对于多源数据，
还可用堆叠柱状图区分不同来源的热度（新闻、社交等）占比。雷达图也可用于展示单个主线在不同热度子
因子上的评分比例（如媒体报道 vs 投资者讨论），帮助发现热度构成。
1

================================================================================
第 2 页
================================================================================
动量维度 Tab
• 核心评分逻辑：动量维度刻画主线题材的价格趋势和强度，主要基于价格和交易量等技术面因子 1 。核心
指标包括：价格动量（如近5日或10日累计涨幅，衡量短期强势程度 1 ）、相对强度（主线内核心股票相
对大盘或行业的超额收益）、成交量动量（量比或成交额突增情况 1 ）等。可引入技术信号如突破重要均
线、阶段新高的出现次数等。评分时对最近几个交易日的动量赋予最高权重，采用时间衰减使久远收益影响
减弱；同时可设动量持续性加分，如果涨势持续天数越多评分越高。可选拓展因子：波动率指标（阶段振
幅）、资金趋势配合度（价升伴随量增）等，以防止单纯价格异动的误判。
• 功能栏建议：提供动量周期选择（如3日/5日动量或1月动量），切换不同周期下的动量榜单；支持按动量得
分或累计涨幅排序主线；筛选器允许过滤近期波动过大或趋势走弱的主线（如排除近3日有大幅回撤的题
材）；提供切换基准功能，用户可选择以沪深300等基准衡量超额动量。工具栏中还可包括“技术指标开
关”，让用户选择是否考虑技术信号（如MACD金叉出现）对评分的影响。
• 可视化方式：采用趋势折线图直观展示主线指数的价格走势和涨跌幅趋势，辅助判断动量强弱。对于横向比
较，可用柱状图显示各主线的动量得分或阶段涨幅，以柱长比较强弱。还可在列表中嵌入迷你趋势图
（Sparkline）展示每个题材近阶段的价格曲线。必要时，用雷达图呈现主线在不同动量子指标（价格涨
幅、量能放大、波动率）上的得分分布，迅速识别动量的来源构成。
政策维度 Tab
• 核心评分逻辑：政策维度评估主线获得的政策支撑力度，包括政府政策、产业扶持和重大事件驱动等因子。
核心指标：政策强度（近期是否有重磅政策出台及力度）、政策频度（一段时间内相关政策/新闻出现的频
率 3 ）、事件影响（例如是否举办行业大会、发布产业规划）。评分逻辑上，可根据政策文件级别赋分
（国家级政策加权最高，地方扶持其次），并考虑时效衰减——新近发布的政策影响力更大，时间久远则逐
步降低权重。若某题材被写入“五年规划”等长期战略，长期评分可给予基础加分。可选因子：监管态度（如
是否放松管制）、国际政策环境（海外同类政策动向），这些可进一步扩充政策面的考量。
• 功能栏建议：提供政策观察期选择（如近1月政策、近半年政策），查看不同时间尺度下政策支持度；支持
根据政策得分排序主线，或筛选有重大政策催化的题材；提供政策详情过滤器，例如用户可选仅显示有国家
政策支撑的主线。功能栏加入“政策列表”下拉，点击可弹出近期涉及该题材的政策文件列表和摘要，方便用
户调研。还可提供关键词搜索框，允许用户检索特定政策关键词下相关主线及评分。
• 可视化方式：适宜采用列表+图标的方式呈现政策维度：列表中每条主线附上政策事件图标或等级标识（例
如 表示有高强度政策利好）。可以有一个时间轴图展示政策事件对主线得分的影响：在时间轴上标注政策
发布日期并用不同高度的标记反映政策重要性，连接形成主线政策得分随时间变化的曲线。对于横向比较，
可考虑热力矩阵：主线为行、重要政策类别为列（产业规划、补贴、税收优惠等），矩阵格子以颜色深浅表
示该主线在相应政策类别上的支持力度。这样有助于发现哪类政策对哪个主线贡献更大。
龙头维度 Tab
• 核心评分逻辑：龙头维度反映题材内领涨股的表现及示范效应。核心考虑：龙头股高度（如板块最强股连续
涨停天数或累计涨幅 2 ）、梯队结构（板块内是否有多只股形成“一进二板”、“二进三板”的接力格局）、市
值龙头影响力（龙头个股市值和成交占板块比重）。评分时，若出现高标龙头（如连续3+涨停），将极大提
升龙头维度得分 2 ；若龙头股冲高回落或退潮，则龙头指标下调。衰减逻辑上，龙头热度通常随时间迅速
衰减，需及时反映—例如规定连续板高度只在形成后一周内对得分有显著贡献，过久则视为失效。可选扩
展：纳入板块集中度指标（前N大市值股票合计占比），以评估主线是否由龙头股主导行情。
• 功能栏建议：提供龙头监测周期选择（如本周内出现的龙头高度，或更长周期龙头表现）；支持按龙头维度
得分排序主线，或筛选近期有超强龙头出现的题材；提供“代表个股”显示功能——选中某主线时，在侧边栏
列出其领涨股名单及涨停统计。还可加入对比开关，允许用户对比两个主线的龙头结构（例如同时查看两条
主线的最高连板数、前3大龙头涨幅等）。
2

================================================================================
第 3 页
================================================================================
• 可视化方式：可以柱状图比较各主线的“龙头高度”（如最高连板数或最大涨幅），柱体越高表明龙头越强
劲。亦可在主线列表中附上小图标提示：例如用 符号标记出现过“五连板”这类极端强龙头的板块。对于单个
主线，可用雷达图或蜘蛛网图将其龙头股与板块其他股票的表现进行对比，突出龙头的超额收益。或者使用
瀑布图展示龙头接力情况：每个连续涨停梯队作为一个层级，直观呈现板块内龙头股涨停接力的结构和持续
天数。
2. “主线识别”综合 Tab 结构设计
设计概述：主线识别Tab作为汇总页，聚合以上五维评分，生成每条题材主线的综合评分和排名。支持不同周期（短
期3-5日、中期15-30日、长期60-180日）的主线强度识别，并提供多样化的输出视图（列表、热力分组、雷达图概
览等）与交互功能，以便研究和策略应用。
综合评分机制与权重设定
主线综合评分通过对五大维度评分加权合成。可根据经验或数据分析设定各维度权重，例如资金面30%、热度
20%、动量20%、政策15%、龙头15%（可根据需求微调）。同时支持动态权重策略：根据市场环境调整权重配比
4 。例如，在牛市或热点狂热阶段可上调动量和热度的权重，在震荡市则强调资金和政策因素 4 。合成前对各维
度评分进行标准化处理，避免因量纲不同导致偏差：采用Min-Max归一或Z-score将各维度得分映射到统一区间（如
0-100分） 5 。这样一来，资金净流入亿级和舆情指数百分比都可同等参与计算。综合评分公式举例：
主线总分 = Σ(维度得分 * 维度权重) ，再根据需要进行百分制或等级划分。最后，设定规则：如若某维度分数
低于阈值（比如政策0分表示无政策支撑），则总评分即使加权后也限制在一定水平，防止单一维度过差的主线通过
其他维度弥补得到高分。
输出结构与界面布局
列表视图：综合Tab首页采用列表呈现主线识别结果，每条主线一行显示关键字段：主线名称、五维得分（可用迷你
条或数值表示）、综合得分以及主线所属行业/概念标签。列表支持根据综合得分排序，并以颜色或图标提示排名变
化（例如新晋主线标星 ）。热力分组：在列表上方或侧边设置按属性分组查看的选项，例如按行业板块对主线进行
归类，将同一行业的主线聚合显示，并对各组内主线以热力图形式着色，方便比较哪一行业主线整体最强。雷达图
概览：页面中部提供雷达图总览组件，默认展示所选周期下排名前N的主线在五维上的评分轮廓。每条主线对应一
条雷达图轮廓线，实现多主线多维度对比 6 。例如勾选前三名主线，在五维雷达图上呈现三条轮廓，直观比较各
自强弱项 6 。用户也可将鼠标悬停某一主线行，高亮雷达图中对应的那条线。每条主线还提供详情入口（如“查看
详情”按钮或可点击行），点击后跳转至该主线的详情页（包含更丰富的历史数据和个股信息，详见后述）。
多周期切换与主线轨迹回顾
综合Tab显著位置提供一键周期切换功能，通常以按钮组或下拉菜单呈现短、中、长期选项（例如“3日/1月/3月”切
换）。用户选择不同周期后，列表、雷达图等内容动态更新为对应周期的评分结果，使用户快速对比主线在不同时
间尺度上的表现强度。除此之外，实现主线轨迹回顾能力：支持用户查看历史上的主线演变。例如提供一个日期选
择器或“回溯”按钮，用户选定过去某日，则界面切换至当日的主线识别结果，用于复盘当时市场主线及其五维特
征。这一功能可以通过调用数据库中历史评分结果实现（详见数据结构部分）。为方便保存和分享分析结果，每次
运行主线识别或回溯查询后，都生成一个唯一的回溯ID和测试链接，用户可复制该链接在日后重新打开相同结果页
面。这样一来，不仅利于绩效归因和策略复盘，也便于团队共享讨论具体某一次的主线识别结论。
3

================================================================================
第 4 页
================================================================================
3. MongoDB 数据结构建议
设计概述：MongoDB将用于存储五维评分和主线识别结果的数据。设计数据结构时需要兼顾按日期、周期、主
线、个股等多维度的检索需求，高效支持前端查询和批量回测分析。建议采用分集合存储维度评分和主线结果，并
建立必要索引来优化查询性能 7 。
各维度评分数据存储设计
将主线维度评分和个股维度评分分别存储，以方便不同场景查询： - 主线维度评分集合
（theme_dimension_scores）：每条记录代表某主线在特定日期和周期下的五维评分快照。关键字段包括：
date （日期）, period （周期类别，例如 "short", "medium", "long"）, theme_id （主线ID）,
theme_name （主线名称）, 以及各维度评分字段如 score_funds , score_heat , score_momentum ,
score_policy , score_leader 。为了检索方便，也可存一个预计算的 score_composite 供排序。在该集
合中，可以通过主题ID和日期组合唯一确定一条记录。此结构支持按日期查所有主线评分，也支持按主线ID筛选历
史轨迹。 - 个股维度评分集合（stock_dimension_scores）：每条记录代表某个股在特定日期的五维评分（若
有）。字段包括： date , stock_id （个股ID）, stock_name , 以及与主线类似的 score_funds ,
score_heat , score_momentum , score_policy , score_leader 。个股的维度评分可部分继承于所属
主线（例如政策维度可能直接取所属主线的政策分或相关度），也可基于个股自身数据计算（如资金面取该股主力
资金流入、动量取该股涨跌幅等）。存储个股维度评分便于在主线详情或个股详情中快速查询显示个股的多维表
现。
上述两个集合的设计，适配了按日期、周期、主线、个股多种索引需求。例如，通过索引 (theme_id, date,
period) 即可快速定位某主线在某日某周期的所有维度分数，支持主线轨迹图的绘制；通过索引 (date,
period) 可批量获取某日某周期下全部主线的评分列表，用于主页面加载。
主线识别结果数据结构
除了原始维度评分数据，另建立主线识别结果集合（mainline_results）用于存储每次主线识别综合输出。每条记
录对应一次主线识别的单个主线结果，包含： - date ：识别执行日期（或回测指定的日期）
- period ：周期类别（短、中、长） - run_id ：运行ID或回溯ID（唯一标识一次识别运行，可由date+period
或额外UUID产生，用于精确引用一次完整结果集） - theme_id ：主线ID（用于关联主线基本信息及跨集合查
询） - theme_name ：主线名称 - 五维评分：如 funds_score, heat_score, momentum_score,
policy_score, leader_score ，这些可以直接冗余存储以便前端展示 - composite_score ：该主线综合
评分 - theme_industry ：主线所属行业/板块分类（例如“新能源车”、“半导体”），便于按行业聚合或过滤 -
rep_stock_ids ：代表个股ID列表，例如数组存储该主线下表现突出的前几只核心股，用于详情联动 - （可选）
rank ：该主线本次得分的排名，或 percentile 等，用于快速取Top N
这个集合相当于将各维度得分汇总后的最终结果表，每次产生主线识别时批量插入。这样，主页面查询当日结果
时，只需根据 date 和 period 筛选 mainline_results 集合即可获得所有主线的汇总信息，无需逐条计算。
在需要回顾历史时，也可以按指定 date 和 period 查询对应的结果列表。通过在 mainline_results 上建立
(date, period) 复合索引，可极大提升按日期周期查询的性能 8 ；对需要查询单一主线历史表现的场景，可
在 theme_id 上建立索引或使用 (theme_id, date) 复合索引，快速获取某主题随时间的评分变化。为了优化
前端加载，可以在查询时仅返回需要的字段（利用MongoDB投影），减少传输的数据量。
4

================================================================================
第 5 页
================================================================================
索引设计与性能优化
针对上述数据结构，索引策略至关重要。维度评分集合应至少有： date 索引（支持按日期范围检索全部主线，方
便实现某日热力分布或全量回测分析）， theme_id+date 复合索引（支持单主线时间序列查询），以及
period+date 索引（如果不同周期数据量存在差异，也可以将period作为分区键）等。主线结果集合由于每次查
询多数是指定 date 和 period 获取列表，故在 (date, period) 上建立复合索引可满足大部分查询需求。此
外，考虑到个股联动查询情形，可能需要通过主线ID获取其代表个股列表，然后查询个股评分，再展示。这可以通
过在 rep_stock_ids 中存储少量ID数组直接返回前端，然后前端再批量请求个股评分数据（或在服务端用 $in
查询stock_dimension_scores集合）。若频繁需要“通过个股找主线”，也可在stock_dimension_scores或另建映射
集合存{stock_id -> [theme_ids]}索引，以支持个股详情页查询其相关主线列表。
为快速回测优化，可考虑对历史数据大量查询的效率。比如允许按日期范围批量获取每日综合排名TopN主线以分析
命中率，这种情况下，可在 mainline_results 上建立 composite_score 的降序索引结合日期范围查询，或
者维度评分集合上建立复合索引 (date, composite_score) 来更高效地截取高分记录。MongoDB在处理时间
序列数据时，利用复合索引能够更高效地完成排序和筛选操作 8 。总体来说，通过合理的索引设计（结合常用查
询路径），可以减少扫描的数据量并提高查询速度 7 。另外，可以定期归档老旧数据或使用MongoDB分片/聚簇
索引存储长周期数据，确保即使数据累积较大，查询近期热点主线仍然迅速。
4. 个股筛选与联动建议
设计概述：主线识别系统不仅评估主题本身，还需支持个股层面的联动分析和筛选。这包括从主线视角联动查看核
心个股的信息，以及从个股视角反查其所属主线及评分。通过主线与个股的双向联动，增强平台的调研和策略功
能。
主线页联动代表个股
在主线综合Tab或各维度Tab中，用户点击某一主线，可触发代表个股联动显示。这通常在界面上以侧边栏或弹出层
形式展现：列出该主线中评分最高或权重最大的几只代表股，并显示它们对应的五维评分。比如“新能源车”主线，
联动显示比亚迪、宁德时代等核心股，每只个股后标注其资金、热度、动量等得分（这些可直接取自
stock_dimension_scores集合）。这样用户可以直观了解该题材的强势个股以及它们在各方面的表现是否均衡。代
表个股列表还可以附带当日涨跌幅、成交额等基本行情，以辅助研判。此外，在该侧边栏中提供快捷操作：比如点
击某只个股名，可以进一步打开该个股详情页；或者在代表股列表上直接提供“加入自选”按钮，方便策略跟踪。联
动显示的指标可以用小型可视化增强可读性，例如为每只个股提供微型雷达图或柱状图，展示其五维得分构成，从
而一眼看出某股是因资金积极而上榜，还是因政策利好成为代表等。
个股详情页的主线关联
每个个股页面除了展示自身行情和基本面，还应集成所属主线列表及其评分分解图。具体来说，在个股详情中增
加“关联主线”模块：列出该股票涉及的所有主线题材名称（根据股票所属概念板块或AI主题分类获取）。每个主线
名称旁显示该主线的当前五维评分（或仅显示综合评分排名）以及该股在其中所起的作用（如是否龙头）。用户点
击某主线名，可跳转至相应主线详情。从个股角度看，这实际上告诉用户：“这只股票是哪些市场主线的一部分，这
些主线现在强度如何？”。 9 例如，若某科技股同时属于“芯片国产化”和“数据安全”两条主线，该模块将并列显示这
两条主线当前的综合得分和五维构成，让用户了解该股所处题材的整体景气度。对于直观呈现，可给出评分分解雷
达图：在个股详情页绘制一张雷达图，其轴仍是五个维度，但数据分别取自该股所属的某条主线与市场平均值对
比，或者取该股自身与主线平均的对比。这样图形化地展示例如“该股所在主线资金面很强但政策面一般”。这种雷
5

================================================================================
第 6 页
================================================================================
达图能够快速说明该股所依托的题材相对于其他方面的优势和短板 6 。此外，个股详情页还可包括主线贡献度信
息：如统计该股对某主线综合得分的贡献占比（基于其权重、涨幅等计算），以了解它在题材中的地位。
个股列表页多维筛选
平台还可以提供个股筛选Tab（或在原有个股列表中扩展筛选条件），让用户根据主线维度条件筛选股票。筛选逻
辑是利用主线-个股关联：例如用户选择筛选条件“主线热度≥80且动量强度高且政策利好显著”，系统将遍历所有主
线，找到满足这些维度条件的主线，然后汇总这些主线下的个股列表，最终返回相关个股。用户因此可以找到“当前
属于高热度且高动量题材中的股票”。筛选UI上，可以采用多选或滑杆设定各维度阈值：如热度高（前20%）、动量
强（近5日涨幅前10%）、政策利好（有国策支持）等。为了简化操作，也可预设一些组合筛选项，比如“热点龙头
股”（热度高+龙头维度高的个股）、“政策驱动股”（政策维度高且资金流入）等快捷标签，用户一键筛选。筛选结果
以股票列表呈现，列出股票名称、所属主线、五维评分等。每个股票还可注明是哪条主线符合筛选条件（如果股票
涉及多主线，可能只在其中一条满足筛选标准）。通过这种按题材属性筛选个股的功能，策略研究者能够快速定位
到最契合特定市场主题条件的投资标的，实现从宏观题材到微观个股的高效联动选股。
5. 页面结构与可视化设计建议
设计概述：本模块页面整体采用多板块布局，兼顾概览与细节。视觉风格专业简洁，对标Bloomberg、Wind等金
融终端，强调数据可读性和交互友好性。下面给出主线输出页的结构和关键组件可视化建议。
主线输出页布局
页面上方是周期选择栏，提供短、中、长周期切换按钮，保证用户一进入页面就能调整分析视角。选择栏旁放置“一
键回测”按钮，点击可进入回溯模式或触发策略回测功能。主区域左侧/上方呈现雷达图总览，展示多主线五维得分
对比的图形概览（如前文所述，可叠加多条主线轮廓）。右侧/下方则是主线列表，以表格形式列出主线名称和各项
评分。列表和雷达图联动：点击列表某行，该主线在雷达图中高亮；反之，在雷达图上点选或悬停某条轮廓，可在
列表中定位对应主线。列表上方还可有热力分组开关，用于切换列表显示模式（按行业分组+热力色阶）。整个布局
自上而下信息层次清晰：先选择周期->看总体雷达概况->浏览具体列表->深入单条详情。
此外，在页面一角提供评分解释浮层或小问号提示。用户将鼠标悬停其上，会弹出浮层解释五维评分的计算逻辑和
含义，列出各维度因子占比，以增强系统透明度和用户理解度。这个设计可让用户随时查看评分体系说明而不必离
开页面。
可视化风格与交互
雷达图组件：采用专业金融风格配色和样式，背景简洁、网格线柔和，突出数据本身。参考Bloomberg BI或Wind
图表，使用沉稳的配色方案（如深蓝、灰、紫等区分不同主线），确保图形在深色/浅色模式下都清晰易读。雷达图
上各维度轴提供刻度标注（如0、50、100）以辅助定量比较 10 。支持交互功能：点击某条雷达线可锁定选中主线
并弹出其详情概览；支持图例开关，用户可自由勾选要对比的主线曲线。柱状图和折线图：使用统一的样式模板，
例如柱状图带柔和的阴影效果和数据标签，折线图在关键拐点标注数值或箭头提示。热力图/表：配色上选择由冷到
热（蓝-绿-黄-红）渐变，颜色梯度清晰但不过分刺眼，数值标签反白显示确保对比度。整个可视化遵循“少即是
多”原则，在确保信息丰富的同时不堆砌干扰元素。
6

================================================================================
第 7 页
================================================================================
交互设计注重关联与反馈：如用户调整筛选器，列表和图表实时刷新；hover高亮和点击选中均有动画和颜色反
馈，提升操作的流畅度。所有图表右上角提供导出或放大按钮，允许用户截图报告或弹出大图细看。页面响应性能
要优化，图表初始加载和更新需迅速，这依赖于后端索引支持及前端ECharts/HighCharts等图库的高效渲染。
回溯ID机制与测试链接
每轮主线识别运行（无论是每日定时运行还是用户手动触发回测）都生成唯一的回溯ID，以记录当时参数和结果快
照。系统可以将该ID作为查询参数附加在URL上构成测试链接。例如，用户在2025/11/29选择短周期运行了一次主
线识别，系统生成ID 20251129_short_ABC123 ，页面URL变为 .../mainline?
runId=20251129_short_ABC123 ，用户可将此链接分享或收藏。再次访问该链接时，通过runId后端可查询存
储的对应结果集并还原页面。这样实现了结果的可回溯、可复现。在前端UI上，当回测完成后，可弹出提示如“本次
分析ID: ABC123”。历史结果存储上，mainline_results集合中已有run_id字段，而维度评分集合也保存了所需数
据，由此确保回溯再现时所有细节（包括各主线的五维得分明细）都可加载。
回溯功能还支持轨迹回看：用户获得某次主线识别链接后，可以顺序浏览相邻日期的结果（比如提供“前一日/后一
日”按钮，根据日期索引加载上一次或下一次的runId结果）。这相当于逐帧播放主线演进的过程，方便用户像看影
片回放一样观察市场热点如何轮动。此外，结合唯一ID的记录，系统还能让用户对比两次识别结果差异，例如选取
两次runId，在前端以双列表或差异高亮的形式展示哪个主线新上榜、哪个掉出榜单。这样一来，“主线识别”模块不
仅具备实时监测市场主线的功能，还为事后复盘、策略验证提供了强有力的工具支撑。确保数据完备、结构清晰、
交互流畅，方能实现调研与策略并举的设计初衷。
参考文献：
• 东财量化研究：《数据驱动的超短线交易革命》 – 提及资金面因子（连续流入天数、大单占比等）和情绪面
因子（龙头股高度、板块热度评分等）的定义 1 。
• 东财AI策略报告：《数据与AI驱动的智能炒股》 – 展示了通过NLP分析新闻/社交舆情来量化市场情绪热度、
盘前生成板块热度排名的案例 11 3 。
• 阿里云商业智能文档：《雷达图》 – 阐述雷达图适用于多个对象在多指标上的综合表现比较，可快速识别对
象的强项弱项 6 。
• FineReport 可视化教程 – 强调了雷达图使用前需要对多指标数据进行标准化处理，以保证不同指标得分具
有可比性 5 。
• MongoDB 文档 – 建议为常用查询创建复合索引以优化查询性能，尤其对时间序列数据采用时间字段与元数
据字段的索引以提升排序查询效率 8 7 。
1 2 数据驱动的超短线交易革命：如何用AI与量化策略实现稳定盈利_财富号_东方财富网
https://caifuhao.eastmoney.com/news/20251006122550662411150
3 4 9 11 数据与AI驱动的智能炒股：精准解决买卖点、板块强弱与关联度分析难题_财富号_东方财富网
https://caifuhao.eastmoney.com/news/20251007223933721746060?
from=guba&name=5LiK6K%2BB5oyH5pWw5ZCn&gubaurl=aHR0cDovL2d1YmFmMTAuZWFzdG1vbmV5LmNvbS9saXN0LHpzc2gwMDAwMDEuaHRtbA%3D%3D
5 10 【报告可视化】这样做，才算完美的雷达图 - 360Doc
http://www.360doc.com/content/24/0227/12/43535834_1115327666.shtml
6 比较多项目多指标的综合表现-雷达图-阿里云
https://help.aliyun.com/document_detail/701981.html
7

================================================================================
第 8 页
================================================================================
7 查询优化— 数据库手册v7.0 - MongoDB
https://www.mongodb.com/zh-cn/docs/v7.0/core/query-optimization/
8 时间序列- 数据库手册v8.0 - MongoDB Docs
https://www.mongodb.com/zh-cn/docs/v8.0/core/timeseries-collections/
8
