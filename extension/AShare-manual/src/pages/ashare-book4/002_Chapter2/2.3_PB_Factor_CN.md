---
title: "2.3 市净率因子（PB）"
description: "掌握PB因子的计算方法、适用行业和净资产质量调整"
lang: "zh-CN"
layout: "/src/layouts/Layout.astro"
currentBook: "ashare-quantitative"
currentChapter: "ashare-quantitative-chapter2"
updateDate: "2025-01-26"
---

# 🏦 2.3 市净率因子（PB）

> **核心摘要：**
> 
> 市净率（PB）是Fama-French三因子模型中价值因子的原始定义，也是银行、地产等重资产行业的核心估值指标。本节讲解PB因子的计算方法、适用行业、净资产质量调整和A股应用。

## 📋 章节概览

<div class="section-overview">
  <div class="overview-item">
    <span class="item-icon">📊</span>
    <a href="#pb-definition">PB的定义与计算</a>
    <span class="item-desc">市净率的基本概念和计算方法</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">🏭</span>
    <a href="#industry-analysis">适用行业分析</a>
    <span class="item-desc">PB因子在不同行业的适用性</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">⚖️</span>
    <a href="#quality-adjustment">净资产质量调整</a>
    <span class="item-desc">商誉、无形资产等对PB的影响</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">📈</span>
    <a href="#backtest">A股PB因子回测</a>
    <span class="item-desc">PB因子在A股的有效性验证</span>
  </div>
</div>

---

<h2 id="pb-definition">📊 PB的定义与计算</h2>

### PB的基本定义

<div class="tip-box">
  <h4>📊 市净率（PB）的本质</h4>
  <ul>
    <li><strong>基本公式：</strong>PB = 市值 / 净资产 = 股价 / 每股净资产</li>
    <li><strong>经济含义：</strong>投资者愿意为每1元净资产支付多少价格</li>
    <li><strong>与PE的关系：</strong>PB = PE × ROE</li>
    <li><strong>参考：</strong>第一册5.5节估值方法</li>
  </ul>
</div>

### BP因子（账面市值比）

**BP = 1/PB = 净资产/市值**

使用BP的优势（同EP）：
- **方向一致：** BP越高越好
- **便于处理：** 可以统一进行标准化
- **Fama-French原始定义：** HML因子使用BP

```python
def calculate_bp_factor(stocks, date):
    """
    计算BP因子
    
    参数:
        stocks: 股票列表
        date: 计算日期
    
    返回:
        BP因子Series
    """
    # 获取市值
    valuation = get_valuation(stocks, date, fields=['market_cap'])
    
    # 获取净资产
    q = query(
        balance.code, 
        balance.total_owner_equities
    ).filter(balance.code.in_(stocks))
    equity = get_fundamentals(q, date)
    
    # 计算BP = 净资产 / 市值
    bp = equity['total_owner_equities'] / valuation['market_cap']
    
    return bp
```

---

<h2 id="industry-analysis">🏭 适用行业分析</h2>

### PB因子的行业适用性

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>行业类型</th>
        <th>代表行业</th>
        <th>PB适用性</th>
        <th>原因</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>重资产行业</strong></td>
        <td>银行、地产、钢铁</td>
        <td>⭐⭐⭐⭐⭐</td>
        <td>净资产是核心价值载体</td>
      </tr>
      <tr>
        <td><strong>周期行业</strong></td>
        <td>有色、化工、煤炭</td>
        <td>⭐⭐⭐⭐</td>
        <td>盈利波动大，PB更稳定</td>
      </tr>
      <tr>
        <td><strong>公用事业</strong></td>
        <td>电力、水务、燃气</td>
        <td>⭐⭐⭐⭐</td>
        <td>资产驱动型业务</td>
      </tr>
      <tr>
        <td><strong>消费行业</strong></td>
        <td>食品饮料、家电</td>
        <td>⭐⭐⭐</td>
        <td>品牌价值难以体现在净资产中</td>
      </tr>
      <tr>
        <td><strong>轻资产行业</strong></td>
        <td>互联网、软件、传媒</td>
        <td>⭐⭐</td>
        <td>核心资产是人才和技术，不在表内</td>
      </tr>
      <tr>
        <td><strong>医药行业</strong></td>
        <td>创新药、医疗器械</td>
        <td>⭐⭐</td>
        <td>研发投入费用化，净资产被低估</td>
      </tr>
    </tbody>
  </table>
</div>

### 银行股的PB估值

<div class="tip-box">
  <h4>🏦 银行股PB估值框架</h4>
  <p><strong>银行PB估值的核心逻辑：</strong></p>
  <ul>
    <li><strong>PB = ROE / (r - g)</strong>（Gordon模型变形）</li>
    <li>ROE高的银行应该享受更高PB</li>
    <li>资产质量好（不良率低）的银行PB更高</li>
  </ul>
</div>

**A股银行PB分布（2024年）：**

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>银行</th>
        <th>PB</th>
        <th>ROE</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>招商银行</td>
        <td>1.0x</td>
        <td>16%</td>
      </tr>
      <tr>
        <td>宁波银行</td>
        <td>0.9x</td>
        <td>15%</td>
      </tr>
      <tr>
        <td>工商银行</td>
        <td>0.5x</td>
        <td>11%</td>
      </tr>
      <tr>
        <td>民生银行</td>
        <td>0.3x</td>
        <td>7%</td>
      </tr>
    </tbody>
  </table>
</div>

**启示：** 低PB银行可能是价值陷阱，需要结合ROE和资产质量判断。

---

<h2 id="quality-adjustment">⚖️ 净资产质量调整</h2>

### 净资产质量问题

<div class="tip-box">
  <h4>⚖️ 净资产≠真实价值</h4>
  <p><strong>账面净资产可能被高估的情况：</strong></p>
  <ul>
    <li><strong>商誉：</strong>并购形成，可能存在减值风险</li>
    <li><strong>无形资产：</strong>部分难以变现</li>
    <li><strong>应收账款：</strong>可能存在坏账</li>
    <li><strong>存货：</strong>可能存在跌价</li>
    <li><strong>递延所得税资产：</strong>依赖未来盈利</li>
  </ul>
  <p><strong>参考：</strong>第一册5.4节财务风险识别</p>
</div>

### 调整后的PB计算

```python
def calculate_adjusted_bp(stocks, date):
    """
    计算调整后的BP因子
    
    调整方法：
    - 商誉全额扣除
    - 无形资产扣除50%
    
    参数:
        stocks: 股票列表
        date: 计算日期
    
    返回:
        调整后BP因子Series
    """
    # 获取资产负债表数据
    q = query(
        balance.code,
        balance.total_owner_equities,   # 净资产
        balance.good_will,               # 商誉
        balance.intangible_assets,       # 无形资产
        balance.development_expenditure  # 开发支出
    ).filter(balance.code.in_(stocks))
    
    bs = get_fundamentals(q, date)
    
    # 调整净资产 = 净资产 - 商誉 - 部分无形资产
    adjusted_equity = (
        bs['total_owner_equities'] 
        - bs['good_will'] * 1.0           # 商誉全额扣除
        - bs['intangible_assets'] * 0.5   # 无形资产扣除50%
    )
    
    # 获取市值
    valuation = get_valuation(stocks, date, fields=['market_cap'])
    
    # 计算调整后BP
    adjusted_bp = adjusted_equity / valuation['market_cap']
    
    return adjusted_bp
```

### 商誉风险筛选

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>风险等级</th>
        <th>商誉/净资产</th>
        <th>处理方式</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>低风险</strong></td>
        <td>&lt; 10%</td>
        <td>正常使用PB</td>
      </tr>
      <tr>
        <td><strong>中风险</strong></td>
        <td>10% - 30%</td>
        <td>使用调整后PB</td>
      </tr>
      <tr>
        <td><strong>高风险</strong></td>
        <td>&gt; 30%</td>
        <td>建议剔除或大幅调整</td>
      </tr>
    </tbody>
  </table>
</div>

---

<h2 id="backtest">📈 A股PB因子回测</h2>

### 回测结果

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>因子版本</th>
        <th>年化多空收益</th>
        <th>夏普比率</th>
        <th>最大回撤</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>原始BP</strong></td>
        <td>5.8%</td>
        <td>0.48</td>
        <td>28%</td>
      </tr>
      <tr>
        <td><strong>行业中性化BP</strong></td>
        <td>6.5%</td>
        <td>0.55</td>
        <td>22%</td>
      </tr>
      <tr>
        <td><strong>调整后BP</strong></td>
        <td>7.2%</td>
        <td>0.62</td>
        <td>20%</td>
      </tr>
    </tbody>
  </table>
</div>

### PB因子的特点

<div class="exchange-grid">
  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">✅</span>
      <h3>优点</h3>
    </div>
    <div class="exchange-content">
      <ul>
        <li>数据稳定，不受短期盈利波动影响</li>
        <li>适用范围广，亏损股也可使用</li>
        <li>理论基础扎实（Fama-French）</li>
        <li>在重资产行业效果显著</li>
      </ul>
    </div>
  </div>

  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">⚠️</span>
      <h3>局限性</h3>
    </div>
    <div class="exchange-content">
      <ul>
        <li>轻资产行业不适用</li>
        <li>净资产质量问题</li>
        <li>会计政策影响大</li>
        <li>容易陷入价值陷阱</li>
      </ul>
    </div>
  </div>
</div>

---

## 💎 核心要点总结

<div class="key-points">
  <div class="key-point">
    <h4>📊 PB适合重资产行业</h4>
    <p>银行、地产、周期等重资产行业优先使用PB估值</p>
  </div>
  <div class="key-point">
    <h4>⚖️ 注意净资产质量</h4>
    <p>商誉、无形资产等可能导致净资产虚高，需要调整</p>
  </div>
  <div class="key-point">
    <h4>🏭 行业中性化必须</h4>
    <p>不同行业PB差异大，必须进行行业中性化处理</p>
  </div>
  <div class="key-point">
    <h4>🔄 与PE互补使用</h4>
    <p>PB与PE各有适用场景，组合使用效果更好</p>
  </div>
</div>

---

## 🔮 总结与展望

<div class="summary-outlook">
  <h3>本节回顾</h3>
  <p>本节讲解了PB因子的定义、适用行业、净资产质量调整方法，以及A股PB因子的回测验证。</p>
  
  <h3>下节预告</h3>
  <p>下一节将学习市销率因子（PS），包括PS在成长股和亏损股估值中的应用，以及营收质量分析。</p>
  
  <a href="/ashare-book4/002_Chapter2/2.4_PS_Factor_CN" class="next-section">
    继续学习：2.4 市销率因子（PS） →
  </a>
</div>
