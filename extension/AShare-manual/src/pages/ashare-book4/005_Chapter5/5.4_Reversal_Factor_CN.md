---
title: "5.4 反转因子"
description: "反转因子的构建方法、均值回归效应和A股应用"
lang: "zh-CN"
layout: "/src/layouts/Layout.astro"
currentBook: "ashare-quantitative"
currentChapter: "ashare-quantitative-chapter5"
updateDate: "2025-01-26"
---

# 🔄 5.4 反转因子

> **核心摘要：**
> 
> 反转因子利用股价的均值回归效应，在A股市场中短期反转效应尤为显著。本节介绍反转因子的构建方法、经济学逻辑和A股应用。

## 📋 章节概览

<div class="section-overview">
  <div class="overview-item">
    <span class="item-icon">📊</span>
    <a href="#definition">因子定义</a>
    <span class="item-desc">反转因子的计算方法</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">💡</span>
    <a href="#logic">经济学逻辑</a>
    <span class="item-desc">均值回归的原理</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">📈</span>
    <a href="#ashare">A股验证</a>
    <span class="item-desc">反转因子有效性</span>
  </div>
  <div class="overview-item">
    <span class="item-icon">🖥️</span>
    <a href="#implementation">策略实现</a>
    <span class="item-desc">韬睿平台因子计算</span>
  </div>
</div>

---

<h2 id="definition">📊 因子定义</h2>

### 反转因子计算方法

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>指标</th>
        <th>计算公式</th>
        <th>含义</th>
        <th>有效周期</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>短期反转</strong></td>
        <td>-1 × 过去5日收益率</td>
        <td>短期超跌反弹</td>
        <td>1-5天</td>
      </tr>
      <tr>
        <td><strong>周反转</strong></td>
        <td>-1 × 过去1周收益率</td>
        <td>周度均值回归</td>
        <td>5-10天</td>
      </tr>
      <tr>
        <td><strong>月反转</strong></td>
        <td>-1 × 过去1月收益率</td>
        <td>月度均值回归</td>
        <td>10-20天</td>
      </tr>
      <tr>
        <td><strong>长期反转</strong></td>
        <td>-1 × 过去12月收益率</td>
        <td>长期价值回归</td>
        <td>数月</td>
      </tr>
    </tbody>
  </table>
</div>

---

<h2 id="logic">💡 经济学逻辑</h2>

### 反转效应的原理

<div class="exchange-grid">
  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">🧠</span>
      <h3>过度反应</h3>
    </div>
    <div class="exchange-content">
      <p><strong>原理：</strong>投资者对信息过度反应</p>
      <p><strong>表现：</strong>短期涨跌过度</p>
      <p><strong>结果：</strong>随后价格修正</p>
      <p><strong>参考：</strong>第一册2.2节认知偏差</p>
    </div>
  </div>

  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">💰</span>
      <h3>流动性冲击</h3>
    </div>
    <div class="exchange-content">
      <p><strong>原理：</strong>大额交易导致价格偏离</p>
      <p><strong>表现：</strong>短期价格冲击</p>
      <p><strong>结果：</strong>流动性恢复后回归</p>
    </div>
  </div>

  <div class="exchange-card">
    <div class="exchange-header">
      <span class="exchange-icon">📊</span>
      <h3>价值回归</h3>
    </div>
    <div class="exchange-content">
      <p><strong>原理：</strong>价格偏离内在价值</p>
      <p><strong>表现：</strong>估值极端</p>
      <p><strong>结果：</strong>长期向价值回归</p>
    </div>
  </div>
</div>

### 动量与反转的关系

<div class="tip-box">
  <h4>💡 动量与反转的时间维度</h4>
  <ul>
    <li><strong>短期（1-4周）：</strong>反转效应占主导</li>
    <li><strong>中期（1-12月）：</strong>动量效应占主导</li>
    <li><strong>长期（1-5年）：</strong>反转效应再次出现</li>
    <li><strong>A股特点：</strong>短期反转效应特别强</li>
  </ul>
</div>

---

<h2 id="ashare">📈 A股验证</h2>

### 反转因子回测结果

<div class="comparison-table">
  <table>
    <thead>
      <tr>
        <th>因子</th>
        <th>IC均值</th>
        <th>IC_IR</th>
        <th>多空收益</th>
        <th>有效性</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>5日反转</strong></td>
        <td>0.045</td>
        <td>0.62</td>
        <td>18.5%/年</td>
        <td>⭐⭐⭐⭐⭐</td>
      </tr>
      <tr>
        <td><strong>周反转</strong></td>
        <td>0.038</td>
        <td>0.52</td>
        <td>15.2%/年</td>
        <td>⭐⭐⭐⭐⭐</td>
      </tr>
      <tr>
        <td><strong>月反转</strong></td>
        <td>0.025</td>
        <td>0.35</td>
        <td>10.5%/年</td>
        <td>⭐⭐⭐⭐</td>
      </tr>
      <tr>
        <td><strong>年反转</strong></td>
        <td>0.018</td>
        <td>0.25</td>
        <td>7.2%/年</td>
        <td>⭐⭐⭐</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="tip-box">
  <h4>💡 A股反转因子特点</h4>
  <ul>
    <li><strong>短期最有效：</strong>5日反转是A股最有效的因子之一</li>
    <li><strong>散户市场：</strong>A股散户占比高，过度反应更明显</li>
    <li><strong>T+1限制：</strong>T+1制度放大了短期反转效应</li>
    <li><strong>需控制风险：</strong>买入下跌股票需注意止损</li>
  </ul>
</div>

---

<h2 id="implementation">🖥️ 策略实现</h2>

### 韬睿平台反转因子计算

<div class="board-details">
  <div class="board-card">
    <h4>📊 反转因子计算代码</h4>
    <div class="board-content">

```python
def calc_reversal_factor(stocks, date, window=5):
    """
    计算反转因子
    
    参数:
        stocks: 股票列表
        date: 计算日期
        window: 回溯窗口（天）
    
    返回:
        反转因子DataFrame
    """
    # 获取历史价格
    prices = get_price(
        stocks,
        end_date=date,
        count=window + 1,
        fields=['close']
    )
    
    # 计算收益率
    returns = prices['close'].iloc[-1] / prices['close'].iloc[0] - 1
    
    # 反转因子 = -1 × 收益率
    reversal = -1 * returns
    
    df = pd.DataFrame({
        'code': reversal.index,
        'reversal': reversal.values
    })
    
    return df

def reversal_strategy(date, hold_num=30, window=5):
    """
    短期反转策略
    
    筛选条件：
    1. 过去5日跌幅最大的股票
    2. 排除ST和停牌
    3. 排除跌停股票（无法买入）
    """
    stocks = get_index_stocks('000905.XSHG', date)  # 中证500
    
    # 计算反转因子
    reversal = calc_reversal_factor(stocks, date, window)
    
    # 排除跌停股票
    prices = get_price(stocks, end_date=date, count=1, fields=['close', 'low_limit'])
    not_limit_down = prices['close'].iloc[-1] > prices['low_limit'].iloc[-1]
    valid_stocks = not_limit_down[not_limit_down].index.tolist()
    
    reversal = reversal[reversal['code'].isin(valid_stocks)]
    
    # 选择反转因子最高的股票（跌幅最大）
    top_stocks = reversal.nlargest(hold_num, 'reversal')
    
    return top_stocks['code'].tolist()
```

</div>
  </div>
</div>

## 💎 核心要点总结

<div class="key-points">
  <div class="key-point">
    <h4>🔄 均值回归</h4>
    <p>反转因子利用价格的均值回归效应</p>
  </div>
  <div class="key-point">
    <h4>⭐ 短期最有效</h4>
    <p>5日反转是A股最有效的因子之一</p>
  </div>
  <div class="key-point">
    <h4>🇨🇳 A股特色</h4>
    <p>散户市场+T+1制度放大反转效应</p>
  </div>
  <div class="key-point">
    <h4>⚠️ 风险控制</h4>
    <p>买入下跌股票需注意止损</p>
  </div>
</div>

## 🔮 总结与展望

<div class="summary-outlook">
  <h3>本节回顾</h3>
  <p>本节介绍了反转因子的计算方法、经济学逻辑和A股应用。短期反转是A股最有效的因子之一。</p>
  
  <h3>下节预告</h3>
  <p>下一节将学习动量因子的综合应用，如何将动量和反转因子组合使用。</p>
  
  <a href="/ashare-book4/005_Chapter5/5.5_Momentum_Composite_CN" class="next-section">
    继续学习：5.5 动量因子综合 →
  </a>
</div>













