---
title: "8.3 æ•°æ®è·å–"
description: "å­¦ä¹ PTradeä¸­çš„è¡Œæƒ…æ•°æ®å’Œè´¢åŠ¡æ•°æ®è·å–æ–¹æ³•"
lang: "zh-CN"
layout: "/src/layouts/Layout.astro"
currentBook: "ashare-quantitative"
currentChapter: "ashare-quantitative-chapter8"
updateDate: "2025-01-26"
---

# ğŸ“Š 8.3 æ•°æ®è·å–

> **æ ¸å¿ƒæ‘˜è¦ï¼š**
> 
> PTradeæä¾›ä¸°å¯Œçš„æ•°æ®æ¥å£ã€‚æœ¬èŠ‚è®²è§£è¡Œæƒ…æ•°æ®å’Œè´¢åŠ¡æ•°æ®çš„è·å–æ–¹æ³•ã€‚

## ğŸ“Š è¡Œæƒ…æ•°æ®è·å–

<div class="board-details">
  <div class="board-card">
    <h4>ğŸ“Š è¡Œæƒ…æ•°æ®API</h4>
    <div class="board-content">

```python
# è·å–å½“å‰ä»·æ ¼
current_price = data.current(stock, 'close')

# è·å–å†å²Kçº¿
history_data = data.history(
    stock, 
    fields=['open', 'high', 'low', 'close', 'volume'],
    bar_count=20,
    frequency='1d'
)

# è·å–å¤šåªè‚¡ç¥¨ä»·æ ¼
prices = data.current(stock_list, 'close')
```

</div>
  </div>
</div>

## ğŸ“ˆ è´¢åŠ¡æ•°æ®è·å–

<div class="board-details">
  <div class="board-card">
    <h4>ğŸ“ˆ è´¢åŠ¡æ•°æ®API</h4>
    <div class="board-content">

```python
# è·å–è´¢åŠ¡æŒ‡æ ‡
from ptrade import get_fundamentals

# è·å–PEã€PBç­‰ä¼°å€¼æŒ‡æ ‡
valuation = get_fundamentals(
    query(valuation.pe_ratio, valuation.pb_ratio)
    .filter(valuation.code.in_(stock_list))
)

# è·å–ROEç­‰ç›ˆåˆ©æŒ‡æ ‡
indicator = get_fundamentals(
    query(indicator.roe, indicator.gross_profit_margin)
    .filter(indicator.code.in_(stock_list))
)
```

</div>
  </div>
</div>

## ğŸ”® æ€»ç»“ä¸å±•æœ›

<div class="summary-outlook">
  <h3>æœ¬èŠ‚å›é¡¾</h3>
  <p>æœ¬èŠ‚è®²è§£äº†PTradeä¸­çš„æ•°æ®è·å–æ–¹æ³•ã€‚</p>
  
  <h3>ä¸‹èŠ‚é¢„å‘Š</h3>
  <p>ä¸‹ä¸€èŠ‚å°†å­¦ä¹ PTradeçš„äº¤æ˜“æ‰§è¡ŒåŠŸèƒ½ã€‚</p>
  
  <a href="/ashare-book4/008_Chapter8/8.4_Trade_Execution_CN" class="next-section">
    ç»§ç»­å­¦ä¹ ï¼š8.4 äº¤æ˜“æ‰§è¡Œ â†’
  </a>
</div>













