---
title: "13.3 å› å­ç ”ç©¶æ¨¡å—"
description: "å­¦ä¹ ä½¿ç”¨éŸ¬ç¿ç³»ç»Ÿè¿›è¡Œå› å­ç ”ç©¶"
lang: "zh-CN"
layout: "/src/layouts/Layout.astro"
currentBook: "ashare-quantitative"
currentChapter: "ashare-quantitative-chapter13"
updateDate: "2025-01-26"
---

# ğŸ”¬ 13.3 å› å­ç ”ç©¶æ¨¡å—

> **æ ¸å¿ƒæ‘˜è¦ï¼š**
> 
> æœ¬èŠ‚ä»‹ç»éŸ¬ç¿é‡åŒ–ç³»ç»Ÿçš„å› å­ç ”ç©¶åŠŸèƒ½ï¼ŒåŒ…æ‹¬å› å­è®¡ç®—ã€ICåˆ†æã€å› å­ç›¸å…³æ€§åˆ†æå’Œå› å­è¡°å‡åˆ†æã€‚

## ğŸ“Š å› å­è®¡ç®—æ¡†æ¶

<div class="board-details">
  <div class="board-card">
    <h4>ğŸ“Š å› å­è®¡ç®—ä»£ç </h4>
    <div class="board-content">

```python
# core/factor_calculator.py
class FactorCalculator:
    """å› å­è®¡ç®—å™¨"""
    
    def __init__(self, data_provider):
        self.dp = data_provider
    
    def calc_ep_factor(self, stocks, date):
        """è®¡ç®—EPå› å­ï¼ˆå¸‚ç›ˆç‡å€’æ•°ï¼‰"""
        df = self.dp.get_financial_data(stocks, date)
        df['ep'] = 1 / df['pe_ratio']
        return df[['code', 'ep']]
    
    def calc_roe_factor(self, stocks, date):
        """è®¡ç®—ROEå› å­"""
        df = self.dp.get_financial_data(stocks, date)
        return df[['code', 'roe']]
    
    def calc_momentum_factor(self, stocks, date, window=20):
        """è®¡ç®—åŠ¨é‡å› å­"""
        prices = self.dp.get_price_data(stocks, date, window)
        momentum = prices.groupby('code')['close'].apply(
            lambda x: x.iloc[-1] / x.iloc[0] - 1
        )
        return momentum.reset_index()
```

</div>
  </div>
</div>

## ğŸ“ˆ ICåˆ†æ

<div class="board-details">
  <div class="board-card">
    <h4>ğŸ“ˆ ICåˆ†æä»£ç </h4>
    <div class="board-content">

```python
# core/factor_analyzer.py
def calc_ic(factor_values, returns):
    """è®¡ç®—å› å­ICå€¼"""
    from scipy.stats import spearmanr
    ic, p_value = spearmanr(factor_values, returns)
    return ic

def calc_ic_series(factor_df, return_df):
    """è®¡ç®—ICæ—¶é—´åºåˆ—"""
    dates = factor_df['date'].unique()
    ic_series = []
    
    for date in dates:
        factor = factor_df[factor_df['date'] == date]
        ret = return_df[return_df['date'] == date]
        merged = factor.merge(ret, on='code')
        ic = calc_ic(merged['factor'], merged['return'])
        ic_series.append({'date': date, 'ic': ic})
    
    return pd.DataFrame(ic_series)
```

</div>
  </div>
</div>

## ğŸ”® æ€»ç»“ä¸å±•æœ›

<div class="summary-outlook">
  <h3>æœ¬èŠ‚å›é¡¾</h3>
  <p>æœ¬èŠ‚ä»‹ç»äº†éŸ¬ç¿ç³»ç»Ÿçš„å› å­ç ”ç©¶åŠŸèƒ½ã€‚</p>
  
  <h3>ä¸‹èŠ‚é¢„å‘Š</h3>
  <p>ä¸‹ä¸€èŠ‚å°†å­¦ä¹ ç­–ç•¥å¼€å‘æ¨¡å—çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
  
  <a href="/ashare-book4/013_Chapter13/13.4_Strategy_Development_CN" class="next-section">
    ç»§ç»­å­¦ä¹ ï¼š13.4 ç­–ç•¥å¼€å‘æ¨¡å— â†’
  </a>
</div>













